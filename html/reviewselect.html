<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>리뷰 보기</title>
    <link rel="stylesheet" href="../css/reviewselect.css" />
    <!-- <link rel="stylesheet" href="../css/star2.css" /> -->
    <script
      src="https://kit.fontawesome.com/8152604405.js"
      crossorigin="anonymous"
    ></script>
    <div id="header-layout"></div>
    <script src="./header.html"></script>
  </head>
  <body>
    <iframe
    src="header.html"
    frameborder="0"
    scrolling="no"
    width="100%"
    height="110"
  ></iframe>
    <h4>리뷰 보기</h4>
    <button id="openModalBtn">리뷰 쓰기</button>
    <ul id="review-list"></ul>
    <!-- 모달 시작-->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeModalBtn">&times;</span>
        <div class="review-form">
          <h2>그랜드민트페스티벌</h2>
          <select name="Appia">
            <option value="R석" selected>1일권 130,000원</option>
            <option value="S석">S석 80,000원</option>
          </select>
          <button type="submit">등록</button>
          <form id="rate" name="rating" method="post">
            <fieldset class="rate">
              <input type="radio" id="rating10" name="rating" value="10" /><label
                for="rating10"
                title="5점"
              ></label>
              <input type="radio" id="rating9" name="rating" value="9" /><label
                class="half"
                for="rating9"
                title="4.5점"
              ></label>
              <input type="radio" id="rating8" name="rating" value="8" /><label
                for="rating8"
                title="4점"
              ></label>
              <input type="radio" id="rating7" name="rating" value="7" /><label
                class="half"
                for="rating7"
                title="3.5점"
              ></label>
              <input type="radio" id="rating6" name="rating" value="6" /><label
                for="rating6"
                title="3점"
              ></label>
              <input type="radio" id="rating5" name="rating" value="5" /><label
                class="half"
                for="rating5"
                title="2.5점"
              ></label>
              <input type="radio" id="rating4" name="rating" value="4" /><label
                for="rating4"
                title="2점"
              ></label>
              <input type="radio" id="rating3" name="rating" value="3" /><label
                class="half"
                for="rating3"
                title="1.5점"
              ></label>
              <input type="radio" id="rating2" name="rating" value="2" /><label
                for="rating2"
                title="1점"
              ></label>
              <input type="radio" id="rating1" name="rating" value="1" /><label
                class="half"
                for="rating1"
                title="0.5점"
              ></label>
            </fieldset>
          </br>
            <textarea
              id="comment"
              name="comment"
              rows="4"
              required
              placeholder="감상평을 자유롭게 남겨주세요"
            ></textarea>
          </form>
        </div>
      </div>
    </div>
    <!-- 모달 끝 -->
    <script>
      // 임시
      var reviews = [
        {
          id: "쇼팬짱",
          date: "2023-09-27",
          price: "120,000",
          rating: 4.0,
          profilePhoto: "./image/user-regular.svg",
          content:
            "캐스팅 발표를 보고 개인적으로 이번 시즌에 가장 보고 싶었던 조합!이 조합이 단 하루 뿐이라 보러 가기까지 우여곡절이 좀 있었는데, 못 봤으면 두고두고 후회했을 것 같습니다",
          reply: null,
        },
        {
          id: "호호",
          date: "2023-09-26",
          price: "100,000",
          rating: 3.5,
          profilePhoto: "user-regular.svg",
          content:
            "뮤지컬 보러 시작한지 얼마 안 되는 사람인데.. 그래도 신영숙 배우님 유명한 건 알고 있어서 티켓팅 후에 보러 갔는데.. 보고 감탄을 넘어서 너무 신기했어요..어떻게 사람이 저렇게 부를 수 있지..? 그리고 레베카act2외에도 어젯밤 꿈속 멘델리라던지 노래들이 전체적으로 너무 좋아서..ㅠㅜ또 보러갈 예정입니다. 정말 돈이 아깝지 않다는 게 무슨 내용인지 깨달을 수 있는 뮤지컬이었어요..!!",
          reply: "공감합니다",
        },
      ];
      // 리뷰 데이터를 화면에 출력하는 함수
      function displayReviews() {
        var reviewList = document.getElementById("review-list");
        // 기존 목록 초기화
        reviewList.innerHTML = "";
        // 리뷰 데이터를 순회하면서 목록에 추가
        for (var i = 0; i < reviews.length; i++) {
          var review = reviews[i];
          var listItem = document.createElement("li");
          listItem.className = "review-item"; // 리뷰 아이템에 클래스 추가, 선 추가됨
          listItem.innerHTML = `
                    <div class="review-header">
                        <img class="profilePhoto" src="${
                          review.profilePhoto
                        }" alt="프로필 사진">
                        <span><i class="fa-solid fa-star"></i
            > ${review.rating}</span>
                        <span> | ${review.id}</span>
                        <span> | ${review.date}</span>
                        <span> | ${review.price}</span>
                    </div>
                    <div class="review-content">
                        <p>${review.content}</p>
                    </div>
                    <div class="review-actions">
                        <button onclick="editReview(${review.id})">수정</button>
                        <button onclick="deleteReview(${
                          review.id
                        })">삭제</button>
                        <button onclick="replyToReview(${
                          review.id
                        })">댓글쓰기</button>
                    </div>
                    <div class="review-reply">
                        <p>ㄴ: ${
                          review.reply ? review.reply : "아직 답변이 없습니다."
                        }</p>
                    </div>
                `;
          reviewList.appendChild(listItem);
        }
      }
      // 페이지 로드 시 리뷰 목록을 표시
      window.onload = displayReviews;
      // 리뷰 편집 함수
      function editReview(reviewId) {}
      // 리뷰 삭제 함수
      function deleteReview(reviewId) {}
      // 리뷰 답장 함수
      function replyToReview(reviewId) {}
      
      //----------모달--------
      // 모달 열기 버튼과 모달 요소 가져오기
      var openModalBtn = document.getElementById("openModalBtn");
      var modal = document.getElementById("myModal");

      // 모달 닫기 버튼 가져오기
      var closeModalBtn = document.getElementById("closeModalBtn");

      // 모달 열기 버튼 클릭 시 모달을 보이게 설정
      openModalBtn.onclick = function () {
        modal.style.display = "block";
      };

      // 모달 닫기 버튼 클릭 시 모달을 숨김
      closeModalBtn.onclick = function () {
        modal.style.display = "none";
      };

      // 모달 영역 외부 클릭 시 모달을 숨김
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
      //--------모달--------------
    </script>
<iframe
src="footer.html"
frameborder="0"
scrolling="no"
width="100%"
height="110"
></iframe>
  </body>
</html>
